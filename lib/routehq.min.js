(function(b,c){var a={handler:"",container:"",before:function(){},after:function(){},customRoutes:[],customRoutesInfo:{},init:function(d){this.handler=d.handler;this.container=d.container;if(typeof d.before=="function"){this.before=d.before}if(typeof d.after=="function"){this.after=d.after}this.listen()},listen:function(){var d=this;c(this.handler).click(function(){d.parseHash(c(this).attr("href"));return false})},parseHash:function(d){var f="#!/"+d;b.location=f;if(c.inArray(d,this.customRoutes)==-1){this.callAjx(d,this.container)}else{var e=this.customRoutesInfo[d];if(typeof e.process=="function"){if(typeof e.before=="function"){e.before()}e.process();if(typeof e.before=="function"){e.after()}}else{this.callAjx(d,e.container,e.before,e.after)}}},callAjx:function(e,d,h,g){if(typeof h=="function"){h()}else{this.before()}var f=this;c.get(e,{ajx:1},function(i){if(typeof d!="undefined"){c(d).html(i)}if(typeof g=="function"){g(i)}else{f.after(i)}})},register:function(d){this.customRoutes.push(d.route);this.customRoutesInfo[d.route]={container:d.container,before:d.before,after:d.after,process:d.process}},};b.routeHQ=b.__r=a})(window,jQuery);